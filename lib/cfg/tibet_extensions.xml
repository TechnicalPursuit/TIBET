<?xml version="1.0"?>

<package xmlns="http://www.technicalpursuit.com/1999/tibet"
    name="tibet_extensions" default="standard" basedir="~tibet_src">

<config id="standard">
    <config ref="parsers"/>
    <config ref="local_storage"/>
    <config ref="workflow"/>
    <config ref="shells"/>
</config>

<config id="full">
    <config ref="content"/>
    <config ref="parsers"/>
    <config ref="local_storage"/>
    <config ref="pouchdb_storage"/>
    <config ref="json_schema"/>
    <config ref="workflow"/>
    <config ref="shells"/>
</config>

<config id="content">
    <script src="./content/TPRSSTypes.js"/>
</config>

<config id="parsers">
    <script src="~lib_deps/xpath-tpi.js" unless="linting"/>
    <script>
        <![CDATA[
        TP.extern.XPathParser = XPathParser;
        ]]>
    </script>

</config>

<config id="shells">
    <script src="./shells/TPShellResponse.js"/>
    <script src="./shells/TPShellRequest.js"/>

    <script src="./shells/TPShell.js"/>
    <script src="./shells/TPShellExtensions.js"/>

    <script src="./shells/TSH.js"/>
    <script src="./shells/YAK.js"/>

    <!--script src="./shells/001_CreateTPShellRequest.js"/-->
</config>

<config id="local_storage">
    <script src="./storage/TP.core.DeviceStorage.js"/>
    <script src="./storage/TP.core.LocalStorage.js"/>

    <script src="./storage/localdb/TP.sig.LocalDBStorageRequest.js"/>
    <script src="./storage/localdb/TP.sig.LocalDBStorageResponse.js"/>
    <script src="./storage/localdb/TP.core.LocalDBStorageService.js"/>

    <script src="./storage/localdb/TP.core.LocalDBURL.js"/>
    <script src="./storage/localdb/TP.core.LocalDBURLHandler.js"/>
</config>

<config id="pouchdb_storage">
    <script src="~lib_deps/pouchdb-tpi.min.js"
        unless="boot.unminified linting" no-minify="true"/>

    <script src="~lib_deps/pouchdb-tpi.js"
        if="boot.unminified" unless="linting"/>

    <script src="~lib_deps/pouchdb.all-dbs-tpi.min.js"
        unless="boot.unminified linting" no-minify="true"/>

    <script src="~lib_deps/pouchdb.all-dbs-tpi.js"
        if="boot.unminified" unless="linting"/>

    <script>
        <![CDATA[
        TP.extern.PouchDB = PouchDB;
        ]]>
    </script>

    <script src="./storage/pouchdb/TP.sig.PouchDBRequest.js"/>
    <script src="./storage/pouchdb/TP.sig.PouchDBResponse.js"/>
    <script src="./storage/pouchdb/TP.core.PouchDBService.js"/>

    <script src="./storage/pouchdb/TP.core.PouchDBURL.js"/>
    <script src="./storage/pouchdb/TP.core.PouchDBURLHandler.js"/>
</config>

<config id="json_schema">

    <script src="~lib_deps/jjv-tpi.min.js"
        unless="boot.unminified linting" no-minify="true"/>

    <script src="~lib_deps/jjv-tpi.js"
        if="boot.unminified" unless="linting"/>

    <script>
        <![CDATA[
        TP.extern.jjv = jjv();
        ]]>
    </script>

    <script src="./json/TPJSONSchemaType.js"/>

</config>

<config id="workflow">
    <script src="./workflow/UserIOSignal.js"/>
    <script src="./workflow/UserIORequest.js"/>
    <script src="./workflow/UserIOResponse.js"/>
    <script src="./workflow/UserIOService.js"/>

    <script src="./workflow/UserInputRequest.js"/>
    <script src="./workflow/UserInputSeries.js"/>

    <script src="./workflow/UserOutputRequest.js"/>

    <script src="./workflow/TPSignalCoalescer.js"/>
    <script src="./workflow/TPOrJoin.js"/>
    <script src="./workflow/TPAndJoin.js"/>
    <script src="./workflow/TPRequestCoalescer.js"/>
</config>

</package>

