;(function(a){$$checked=null;$$tibet=null;window.offerror=window.onerror;window.onerror=function(b,d,e,f,c){var a;try{a=b||'Error';a+=' in file: '+d+' line: '+e+' column: '+f;if(c){a+='\nSTACK:\n'+c.stack;}if(window.location.protocol.indexOf('file')===0){if(window.onerror.failedlaunch){return;}window.onerror.failedlaunch=true;}else{top.console.error(a);}}catch(c){top.console.error('Error logging onerror: '+c.message);top.console.error(a||b);}return false;};$$getNextWindow=function(e,d){var a,b,c;a=e==null?window:e;if(a.parent!=null&&a.parent!==a){b=a.parent.frames;if(b.length>1){for(c=0;c<b.length;c++){try{if(b[c].$$checked!==d){return b[c];}}catch(a){}}}}try{if(a.parent!=null&&a.parent!==a&&a.parent.$$checked!==d){return a.parent;}}catch(a){}try{if(a.top!=null&&a.top!==a&&a.top.$$checked!==d){return a.top;}}catch(a){}try{if(a.opener!=null&&a.opener!==a&&a.opener.$$checked!==d){return a.opener;}}catch(a){}return;};$$findTIBET=function(c){var a,b;if(top.$$tibet!=null){window.$$tibet=top.$$tibet;return top.$$tibet;}else if(top.$$TIBET===true){window.$$tibet=top;return top;}if(window.$$tibet!=null){return window.$$tibet;}else if(window.$$TIBET===true){return window;}a=c==null?window:c;b=new Date().getTime();while(a!=null){try{a.$$checked=b;if(a.$$tibet!=null){window.$$tibet=a.$$tibet;return a.$$tibet;}else if(a.$$TIBET===true){window.$$tibet=a;return a;}}catch(a){}a=$$getNextWindow(a,b);}return;};if(self.TP==null){try{$$findTIBET();}catch(a){return;}if(window.$$tibet&&window.$$tibet!==window){window.TP=window.$$tibet.TP;}else{if(Object.defineProperty){Object.defineProperty(self,'TP',{value:{},writable:true});Object.defineProperty(TP,'boot',{value:{},writable:false});Object.defineProperty(TP,'sys',{value:{},writable:false});}else{TP=self.TP||{};TP.sys=TP.sys||{};TP.boot=TP.boot||{};}}}TP.$$tibetinf=TP.$$tibetinf||'/html';TP.$$bootpage=TP.$$bootpage||'index.html';TP.ANY=TP.ANY||'ANY';TP.boot.$isElement=function(a){return a!=null&&a.nodeType===Node.ELEMENT_NODE;};TP.boot.$isEmpty=function(a){return a==null||a===''||a.length===0;};TP.boot.$isEvent=function(a){return a!=null&&a.clientX!==undefined&&a.clientY!==undefined;};TP.boot.$isTrue=function(a){if(a===true){return true;}if(a===false){return false;}return typeof a==='boolean'&&a.valueOf()===true;};TP.boot.$isValid=function(a){return a!=null;};TP.boot.$isWindow=function(a){if(a!=null&&a.moveBy!==undefined){return true;}return false;};TP.boot.$notValid=function(a){return a==null;};if(!self.Window){Window=self.constructor;}TP.boot.$$isIE=function(){if(/Gecko|Konqueror|AppleWebKit|KHTML/.test(navigator.userAgent)){return false;}return/MSIE/.test(navigator.userAgent);};TP.boot.$$isMoz=function(){return/rv:.+?Gecko/.test(navigator.userAgent);};TP.boot.$$isWebkit=function(){return/Konqueror|AppleWebKit|KHTML/.test(navigator.userAgent);};if(TP.boot.$notValid(TP.DOM_SIGNAL_TYPE_MAP)){TP.DOM_SIGNAL_TYPE_MAP={'abort':'TP.sig.DOMAbort','blur':'TP.sig.DOMBlur','change':'TP.sig.DOMChange','click':'TP.sig.DOMClick','copy':'TP.sig.DOMCopy','contextmenu':'TP.sig.DOMContextMenu','cut':'TP.sig.DOMCut','dblclick':'TP.sig.DOMDblClick','error':'TP.sig.DOMError','focus':'TP.sig.DOMFocus','keydown':'TP.sig.DOMKeyDown','keypress':'TP.sig.DOMKeyPress','keyup':'TP.sig.DOMKeyUp','load':'TP.sig.DOMLoad','mousedown':'TP.sig.DOMMouseDown','mouseenter':'TP.sig.DOMMouseEnter','mousehover':'TP.sig.DOMMouseHover','mouseleave':'TP.sig.DOMMouseLeave','mousemove':'TP.sig.DOMMouseMove','mouseout':'TP.sig.DOMMouseOut','mouseover':'TP.sig.DOMMouseOver','mouseup':'TP.sig.DOMMouseUp','dragdown':'TP.sig.DOMDragDown','draghover':'TP.sig.DOMDragHover','dragmove':'TP.sig.DOMDragMove','dragout':'TP.sig.DOMDragOut','dragover':'TP.sig.DOMDragOver','dragup':'TP.sig.DOMDragUp','move':'TP.sig.DOMMove','paste':'TP.sig.DOMPaste','reset':'TP.sig.DOMReset','resize':'TP.sig.DOMResize','submit':'TP.sig.DOMSubmit','unload':'TP.sig.DOMUnload'};if(TP.boot.$$isIE()||TP.boot.$$isWebkit()){TP.DOM_SIGNAL_TYPE_MAP.mousewheel='TP.sig.DOMMouseWheel';}else{TP.DOM_SIGNAL_TYPE_MAP.DOMMouseScroll='TP.sig.DOMMouseWheel';}TP.DOM_SIGNAL_TYPE_MAP.at=function(a){return this[a];};TP.DOM_SIGNAL_TYPE_MAP.atPut=function(a,b){this[a]=b;return this;};}if(window.onerror.failedlaunch!==true&&window!==top&&top.TP!=null&&top.TP.sys!=null&&top.TP.sys.hasLoaded()===true&&top.TP.isHTMLDocument(document)===true&&top.TP.core.Window.$$isDocumentWriting!==true&&window.frameElement!=null&&window.frameElement.hasAttribute('tibet_settinglocation')!==true){top.TP.windowResetLocation(window);}else{TP.boot.$formatCookieSource=function(a){var b;if(a==null){b='null';}else if(a.constructor===Date){b='"'+a.toString()+'"';}else if(a.constructor===String){b='"'+a+'"';}else{b=a.toString();}return b;};TP.boot.getCookie=function(d){var a,b,c,e;try{a=document.cookie;if(a===''){return;}}catch(a){return;}c=a.indexOf(d+'=');if(c===-1){return;}b=a.indexOf(';',c+d.length);if(b===-1){b=a.length;}e=decodeURI(a.slice(c+d.length+1,b));return e;};TP.boot.setCookie=function(b,c,d,e,f,g){var a;if(b==null||c==null){return false;}a=b+'='+encodeURI(c);a+=d==null?'':'; expires='+d.toGMTString();a+=g!==true?'':'; secure';a+=f==null?'':'; domain='+f;a+=e==null?'':'; path='+e;try{document.cookie=a;}catch(a){return false;}return true;};TP.boot.$byId=function(a){if(typeof a==='string'){return document.getElementById(a);}return a;};TP.boot.getWindowLocation=function(){if(TP.boot.$isElement(window.frameElement)){if(window.frameElement.hasAttribute('tibet_settinglocation')===true){return window.frameElement.getAttribute('tibet_settinglocation');}if(window.location.toString()===top.location.toString()&&window.parent!==window){return window.parent.location.toString();}}return window.location.toString();};TP.boot.hideContent=function(a){var b,c;c=$$findTIBET();if(TP.boot.$isValid(b=TP.boot.$byId(a||TP.boot.$$currentContentID,c))){b.style.display='none';if(TP.boot.$$currentContentID===a){TP.boot.$$currentContentID=null;}}};TP.boot.hideUICanvas=function(){var a;a=TP.sys.getWindowById(TP.sys.cfg('tibet.uicanvas'));if(TP.boot.$isValid(a)){if(TP.boot.$isValid(a.frameElement)){a.frameElement.style.visibility='hidden';}}};TP.boot.hideUIRoot=function(){var a;a=TP.sys.getWindowById(TP.sys.cfg('tibet.uiroot'));if(TP.boot.$isValid(a)){if(TP.boot.$isValid(a.frameElement)){a.frameElement.style.visibility='hidden';}}};TP.boot.launchApp=function(){window.location=TP.$$bootpage;return;};TP.boot.showBootLog=function(){var b,a;b=$$findTIBET();if(b){a=b.TP.sys;if(a&&typeof a.showBootLog==='function'){a.showBootLog();}}};TP.boot.showContent=function(a){var b,c;c=$$findTIBET();TP.boot.hideUICanvas();TP.boot.hideContent(TP.boot.$$currentContentID);if(TP.boot.$isValid(b=TP.boot.$byId(a,c))){b.style.display='block';TP.boot.$$currentContentID=a;}};TP.boot.showUICanvas=function(b){var a,c;TP.boot.hideContent();a=TP.sys.getWindowById(TP.sys.cfg('tibet.uicanvas'));if(TP.boot.$isValid(a)){if(TP.boot.$isValid(b)){c=TP.boot.$uriExpandPath(b);window.location.replace(c);}if(TP.boot.$isValid(a.frameElement)){a.frameElement.style.visibility='visible';}}return;};TP.boot.startGUI=function(){var a;a=$$findTIBET();if(a&&a.TP.sys&&a.main){a.main();}else{alert('Unable to find main().');}return;};TP.boot.$$setupMetadata=function(){var a;TP.NAME='$$name';TP.TNAME='$$typename';TP.RNAME='$$realname';TP.TYPE='$$type';TP.TYPEC='$$Type';TP.INSTC='$$Inst';TP.SUPER='$$supertype';TP.ANCESTORS='$$ancestors';TP.ANCESTOR_NAMES='$$anames';TP.SUBTYPE_NAMES='$$snames';TP.SUBTYPE_NAMES_DEEP='$$snames_deep';TP.SUBTYPES='$$subtypes';TP.SUBTYPES_DEEP='$$subtypes_deep';a=function(a,c,d,e,b,g,h,i,j,f){a[TP.TYPE]=c;a[TP.TYPEC]=d;a[TP.INSTC]=e;a[TP.TNAME]=b;a[TP.RNAME]=g;a[TP.NAME]=h;a[TP.SUPER]=i;a[TP.ANCESTORS]=j;a[TP.ANCESTOR_NAMES]=f;};a(Array,Array,Function,Function,'Array','Array','Array',Object,TP.ac(Object),TP.ac('Object'));a(Boolean,Boolean,Function,Function,'Boolean','Boolean','Boolean',Object,TP.ac(Object),TP.ac('Object'));a(Date,Date,Function,Function,'Date','Date','Date',Object,TP.ac(Object),TP.ac('Object'));a(Function,Function,Function,Function,'Function','Function','Function',Object,TP.ac(Object),TP.ac('Object'));a(Number,Number,Function,Function,'Number','Number','Number',Object,TP.ac(Object),TP.ac('Object'));a(Object,Object,Function,Function,'Object','Object','Object',null,TP.ac(),TP.ac());a(RegExp,RegExp,Function,Function,'RegExp','RegExp','RegExp',Object,TP.ac(Object),TP.ac('Object'));a(String,String,Function,Function,'String','String','String',Object,TP.ac(Object),TP.ac('Object'));Object[TP.SUBTYPES]=TP.ac(Array,Boolean,Date,Function,Number,RegExp,String);Object[TP.SUBTYPES_DEEP]=TP.ac(Array,Boolean,Date,Function,Number,RegExp,String);Object[TP.SUBTYPE_NAMES]=TP.ac('Array','Boolean','Date','Function','Number','RegExp','String');Object[TP.SUBTYPE_NAMES_DEEP]=TP.ac('Array','Boolean','Date','Function','Number','RegExp','String');a(Window,Window,Function,Function,'DOMWindow','DOMWindow','DOMWindow',Object,TP.ac(Object),TP.ac('Object'));Window.$$nonFunctionConstructorObjectName='DOMWindow';if(TP.boot.$$isWebkit()){a(XMLDocument,XMLDocument,Function,Function,'XMLDocument','XMLDocument','XMLDocument',Document,TP.ac(Document,Node,Object),TP.ac('Document','Node','Object'));a(XMLHttpRequest,XMLHttpRequest,Function,Function,'XMLHttpRequest','XMLHttpRequest','XMLHttpRequest',Object,TP.ac(Object),TP.ac('Object'));NaN.__proto__.$$nonFunctionConstructorConstructorName='Number';}if(TP.boot.$$isMoz()){a(CSS2Properties,CSS2Properties,Function,Function,'CSSStyleDeclaration','CSSStyleDeclaration','CSSStyleDeclaration',Object,TP.ac(Object),TP.ac('Object'));NaN.__proto__.$$nonFunctionConstructorConstructorName='Number';}};TP.boot.installPatches=function(a){if(TP.boot.$notValid(a.atob)){a.atob=function(l){var c,g,a,d,e,h,i,b,k,f,j;if(typeof l!=='string'){return TP.boot.$raise(this,'InvalidParameter',arguments);}c=[];for(a=0;a<26;a++){c.push(String.fromCharCode(65+a));}for(a=0;a<26;a++){c.push(String.fromCharCode(97+a));}for(a=0;a<10;a++){c.push(String.fromCharCode(48+a));}c.push('+');c.push('/');g=[];for(a=0;a<128;a++){g.push(-1);}for(a=0;a<64;a++){g[c[a].charCodeAt(0)]=a;}k=l.split('');j=0;f='';b=0;do{i=k[j++].charCodeAt(0);a=g[i];if(i>=0&&i<128&&a!==-1){if(b%4===0){d=a<<2;}else if(b%4===1){d=d|a>>4;e=(a&15)<<4;}else if(b%4===2){e=e|a>>2;h=(a&3)<<6;}else{h=h|a;}b++;if(b%4===0){f+=String.fromCharCode(d)+String.fromCharCode(e)+String.fromCharCode(h);}}}while(k[j]);if(b%4===3){f+=String.fromCharCode(d)+String.fromCharCode(e);}else if(b%4===2){f+=String.fromCharCode(d);}return f;};}if(TP.boot.$$isMoz()){a.Element.prototype.__defineGetter__('offsetParent',function(){return TP.elementGetOffsetParent(this);});a.Element.prototype.__defineGetter__('offsetTop',function(){return Math.round(this.getBoundingClientRect().top);});a.Element.prototype.__defineGetter__('offsetLeft',function(){return Math.round(this.getBoundingClientRect().left);});a.Element.prototype.__defineGetter__('offsetWidth',function(){return Math.round(this.getBoundingClientRect().width);});a.Element.prototype.__defineGetter__('offsetHeight',function(){return Math.round(this.getBoundingClientRect().height);});}if(TP.boot.$$isMoz()||TP.boot.$$isWebkit()){a.Event.prototype.__defineGetter__('offsetX',function(){var a,b,c,d;a=this.target;if(a&&a.nodeType!==Node.DOCUMENT_NODE){a=a.nodeType===Node.TEXT_NODE?a.parentNode:a;b=TP.elementGetComputedStyleObj(a);if(b.position==='absolute'||b.position==='relative'){c=this.layerX;}else{d=TP.elementGetOffsetFromContainer(a);c=this.layerX-d[0];if(a.offsetParent){b=TP.elementGetComputedStyleObj(a.offsetParent);c-=b.getPropertyCSSValue('border-left-width').getFloatValue(CSSPrimitiveValue.CSS_PX);}}return c;}return 0;});a.Event.prototype.__defineGetter__('offsetY',function(){var a,b,c,d;a=this.target;if(a&&a.nodeType!==Node.DOCUMENT_NODE){a=a.nodeType===Node.TEXT_NODE?a.parentNode:a;b=TP.elementGetComputedStyleObj(a);if(b.position==='absolute'||b.position==='relative'){c=this.layerY;}else{d=TP.elementGetOffsetFromContainer(a);c=this.layerY-d[1];if(a.offsetParent){b=TP.elementGetComputedStyleObj(a.offsetParent);c-=b.getPropertyCSSValue('border-top-width').getFloatValue(CSSPrimitiveValue.CSS_PX);}}return c;}return 0;});a.Event.prototype.__defineGetter__('resolvedTarget',function(){var a;if(TP.boot.$isValid(a=this._resolvedTarget)){return a;}if(!TP.boot.$isElement(a=TP.eventResolveTarget(this))){return null;}this._resolvedTarget=a;return a;});}else if(TP.boot.$$isIE()){Object.defineProperty(a.Event.prototype,'target',{get:function(){return this.srcElement;}});Object.defineProperty(a.Event.prototype,'currentTarget',{get:function(){return null;}});Object.defineProperty(a.Event.prototype,'relatedTarget',{get:function(){return this.fromElement||this.toElement||null;}});Object.defineProperty(a.Event.prototype,'metaKey',{get:function(){return false;}});Object.defineProperty(a.Event.prototype,'pageX',{get:function(){var a;a=this.srcElement.document;return this.clientX+a.documentElement.scrollLeft;}});Object.defineProperty(a.Event.prototype,'pageY',{get:function(){var a;a=this.srcElement.document;return this.clientY+a.documentElement.scrollTop;}});Object.defineProperty(a.Event.prototype,'resolvedTarget',{get:function(){var a;if(TP.boot.$isValid(a=this._resolvedTarget)){return a;}if(!TP.boot.$isElement(a=TP.eventResolveTarget(this))){return null;}this._resolvedTarget=a;return a;}});Object.defineProperty(a.Event.prototype,'view',{get:function(){return this.srcElement.document.parentWindow;}});Object.defineProperty(a.Event.prototype,'wheelDelta',{get:function(){if(this.type==='mousewheel'){return this.detail/120;}}});a.Event.prototype.stopPropagation=function(){this.cancelBubble=true;};a.Event.prototype.preventDefault=function(){if(this.type==='mouseover'){this.returnValue=true;}else{this.returnValue=false;}};}a.Event.prototype.at=function(a){return this[a];};a.Event.prototype.atPut=function(a,b){this[a]=b;return this;};a.Event.prototype.copy=function(){var c,d,b;c={target:this.target,$$target:this.$$target,currentTarget:this.currentTarget,relatedTarget:this.relatedTarget,$$relatedTarget:this.$$relatedTarget,type:this.type,$$type:this.$$type,timeStamp:this.timeStamp,$$timestamp:this.$$timestamp,clientX:this.clientX,$$clientX:this.$$clientX,clientY:this.clientY,$$clientY:this.$$clientY,$$clientPt:this.$$clientPt,offsetX:this.offsetX,$$offsetX:this.$$offsetX,offsetY:this.offsetY,$$offsetY:this.$$offsetY,$$offsetPt:this.$$offsetPt,view:this.view,$$view:this.$$view,pageX:this.pageX,$$pageX:this.$$pageX,pageY:this.pageY,$$pageY:this.$$pageY,$$pagePt:this.$$pagePt,resolvedTarget:this.resolvedTarget,$$_resolvedTarget:this.$$_resolvedTarget,screenX:this.screenX,$$screenX:this.$$screenX,screenY:this.screenY,$$screenY:this.$$screenY,$$screenPt:this.$$screenPt,$$transPt:this.$$transPt,$$keyCode:this.$$keyCode,altKey:this.altKey,$$altKey:this.$$altKey,ctrlKey:this.ctrlKey,$$ctrlKey:this.$$ctrlKey,shiftKey:this.shiftKey,$$shiftKey:this.$$shiftKey,metaKey:this.metaKey,button:this.button,$$button:this.$$button,wheelDelta:this.wheelDelta,$$wheelDelta:this.$$wheelDelta,charCode:this.charCode,which:this.which,cancelBubble:this.cancelBubble,returnValue:this.returnValue,$captured:this.$captured,$dragdistance:this.$dragdistance,$normalized:this.$normalized,$notSignaled:this.$notSignaled,$unicodeCharCode:this.$unicodeCharCode,$computedName:this.$computedName};d=a.Event.prototype;for(b in d){if(d.hasOwnProperty(b)){try{if(typeof this[b]==='function'){c[b]=this[b];}}catch(a){}}}return c;};if(TP.boot.$notValid(a.NamedNodeMap)){a.NamedNodeMap=a.MozNamedAttrMap;Object.defineProperty(a.MozNamedAttrMap,'$$name',{get:function(){return'NamedNodeMap';}});}if(a.TP&&a.TP.ac&&!Object.$$name){TP.boot.$$setupMetadata();}if(TP.boot.$$isIE()){a.Element.prototype.getKeys=function(){return TP.sys.$htmlelemkeys;};}else{a.HTMLElement.prototype.getKeys=function(){return TP.sys.$htmlelemkeys;};}if(TP.boot.$$isIE()){a.Document.prototype.getKeys=function(){return TP.sys.$htmldockeys;};}else{a.HTMLDocument.prototype.getKeys=function(){return TP.sys.$htmldockeys;};}a.Error.prototype.getKeys=function(){return TP.sys.$errorkeys;};a.Event.prototype.getKeys=function(){return TP.sys.$eventkeys;};a.NamedNodeMap.prototype.getKeys=function(){return TP.sys.$namednodemapkeys;};a.NodeList.prototype.getKeys=function(){return TP.sys.$nodelistkeys;};a.Window.prototype.getKeys=function(){return TP.sys.$windowkeys;};a.XMLHttpRequest.prototype.getKeys=function(){return TP.sys.$xhrkeys;};};TP.windowIsInstrumented=TP.windowIsInstrumented||function(b){var a;a=b!=null?b:window;return a.$$instrumented===true&&a.$$tibet!=null&&a.TP!=null;};TP.boot.$$computeDispatchOrigin=function(c,e,d){var a,b;if(typeof c==='string'&&c!==''){return c;}if(TP.boot.$isElement(c)){b=c;}else if(TP.boot.$isElement(e)){b=e;}else if(TP.boot.$isEvent(d)){if((b=d.srcElement)==null){b=d.target;}}if(b==null||b===''){return TP.ANY;}try{a=b.getAttribute('tibet:origin');if(a!=null&&a!==''){return a;}}catch(a){}if(TP.windowIsInstrumented(window)){a=TP.gid(b,true);if(a!=null&&a!==''){return a;}a=TP.elementGetAttribute(b,'id');if(a!=null&&a!==''){return a;}}return b;};TP.boot.$$displaySignalData=function(a,b,c,d,e){try{if(a==null||typeof a==='string'){window.status='origin: '+a+'::'+a+' signal: '+b;}else if(a!=null){window.status='origin: '+a+'::'+a.getAttribute('id')+' signal: '+b;}}catch(a){}return;};TP.boot.$$dispatch=function(k,i,e,a,f,j){var b,c,g,d,h;b=i;if(TP.boot.$isEmpty(b)&&TP.boot.$isEvent(a)){b=TP.DOM_SIGNAL_TYPE_MAP[a.type];}else{b=TP.DOM_SIGNAL_TYPE_MAP[i]||i;}if(j!==false){TP.boot.$$displaySignalData(k,b,e,a,f);}if(TP.boot.$isEvent(a)){if(TP.boot.$$isIE()){a.cancelBubble=true;}else{if(TP.boot.$$isWebkit()){a.stopPropagation();}}}c=TP.boot.$$computeDispatchOrigin(k,e,a);if(typeof c==='string'){h=c.charAt(0).toUpperCase()+c.slice(1);d='$handle'+h+b;if(typeof self[d]==='function'){try{g=self[d](h,b,e,a,f);}catch(a){}return g;}}d='$handle'+b;if(typeof self[d]==='function'){try{g=self[d](c,b,e,a,f);}catch(a){}return g;}if(j!==false){TP.boot.$$displaySignalData(c,b,e,a,f);}return;};if(TP.boot.$isValid(window.TP)&&TP.boot.$notValid(TP.dispatch)){TP.dispatch=TP.boot.$$dispatch;}TP.boot.$raise=function(a,b,d,c){return TP.boot.$$dispatch(a,b,null,c);};TP.boot.$$addUIHandler=function(d,b,c){var a,e;a=b;if(TP.boot.$$isIE()){if(b==='focus'){a='activate';}else if(b==='blur'){a='deactivate';}e=function(a){a.timeStamp=new Date().getTime();return c(a);};d.attachEvent('on'+a,e);}else{if(TP.boot.$$isMoz()&&b==='mousewheel'){a='DOMMouseScroll';}d.addEventListener(a,c,true);}TP.boot['$$'+a+'Handler']=c;return;};TP.boot.$$removeUIHandler=function(d,b){var c,a;a=b;if(TP.boot.$$isIE()){if(b==='focus'){a='activate';}else if(b==='blur'){a='deactivate';}}c=TP.boot['$$'+a+'Handler'];if(TP.boot.$notValid(c)){return;}if(TP.boot.$$isIE()){d.detachEvent('on'+a,c);}else{if(TP.boot.$$isMoz()&&b==='mousewheel'){a='DOMMouseScroll';}d.removeEventListener(a,c,true);}TP.boot['$$'+a+'Handler']=null;return;};TP.boot.$$addMutationSource=function(a){TP.core.MutationSignalSource.addObserverFor(a);};TP.boot.$$removeMutationSource=function(a){TP.core.MutationSignalSource.removeObserverFor(a);};TP.boot.$$captureStyle=function(){var b,a;if(TP.boot.$$isIE()){document.attachEvent('onreadystatechange',a=function(){if(document.readyState==='complete'){document.detachEvent('onreadystatechange',a);if(document.body){}}});return;}else{b=document.getElementsByTagName('head')[0];if(b){b.addEventListener('DOMNodeInserted',TP.$eventHandleStyleInsertion,true);document.addEventListener('DOMContentLoaded',a=function(){var b;document.removeEventListener('DOMContentLoaded',a,false);if(document.body){}b=document.getElementsByTagName('head')[0];if(b){b.removeEventListener('DOMNodeInserted',TP.$eventHandleStyleInsertion,true);}},false);}}};TP.boot.$$stopAndPreventEvent=function(a){a.stopPropagation();a.preventDefault();return;};TP.boot.$$documentSetup=function(a){TP.boot.$$addUIHandler(a,'click',TP.core.Mouse.$$handleMouseEvent);TP.boot.$$addUIHandler(a,'dblclick',TP.core.Mouse.$$handleMouseEvent);TP.boot.$$addUIHandler(a,'mousemove',TP.core.Mouse.$$handleMouseEvent);TP.boot.$$addUIHandler(a,'mouseover',TP.core.Mouse.$$handleMouseEvent);TP.boot.$$addUIHandler(a,'mouseout',TP.core.Mouse.$$handleMouseEvent);TP.boot.$$addUIHandler(a,'mouseenter',TP.core.Mouse.$$handleMouseEvent);TP.boot.$$addUIHandler(a,'mouseleave',TP.core.Mouse.$$handleMouseEvent);TP.boot.$$addUIHandler(a,'mousedown',TP.core.Mouse.$$handleMouseEvent);TP.boot.$$addUIHandler(a,'mouseup',TP.core.Mouse.$$handleMouseEvent);TP.boot.$$addUIHandler(a,'contextmenu',TP.core.Mouse.$$handleMouseEvent);TP.boot.$$addUIHandler(a,'mousewheel',TP.core.Mouse.$$handleMouseEvent);TP.boot.$$addUIHandler(a,'keyup',TP.core.Keyboard.$$handleKeyEvent);if(TP.boot.$$isIE()){TP.boot.$$addUIHandler(a.body,'cut',TP.$$handleCut);TP.boot.$$addUIHandler(a.body,'copy',TP.$$handleCopy);TP.boot.$$addUIHandler(a.body,'paste',TP.$$handlePaste);}else{TP.boot.$$addUIHandler(a,'cut',TP.$$handleCut);TP.boot.$$addUIHandler(a,'copy',TP.$$handleCopy);TP.boot.$$addUIHandler(a,'paste',TP.$$handlePaste);}TP.boot.$$addUIHandler(a,'blur',TP.$$handleBlur);TP.boot.$$addUIHandler(a,'focus',TP.$$handleFocus);TP.boot.$$addUIHandler(a,'keydown',TP.core.Keyboard.$$handleKeyEvent);TP.boot.$$addUIHandler(a,'keypress',TP.core.Keyboard.$$handleKeyEvent);TP.boot.$$addUIHandler(a,'change',TP.$$handleChange);TP.boot.$$addMutationSource(a);return;};TP.boot.$$documentTeardown=function(a){TP.boot.$$removeUIHandler(a,'click');TP.boot.$$removeUIHandler(a,'dblclick');TP.boot.$$removeUIHandler(a,'mousemove');TP.boot.$$removeUIHandler(a,'mouseover');TP.boot.$$removeUIHandler(a,'mouseout');TP.boot.$$removeUIHandler(a,'mouseenter');TP.boot.$$removeUIHandler(a,'mouseleave');TP.boot.$$removeUIHandler(a,'mousedown');TP.boot.$$removeUIHandler(a,'mouseup');TP.boot.$$removeUIHandler(a,'contextmenu');TP.boot.$$removeUIHandler(a,'mousewheel');TP.boot.$$removeUIHandler(a,'keyup');TP.boot.$$removeUIHandler(a,'cut');TP.boot.$$removeUIHandler(a,'copy');TP.boot.$$removeUIHandler(a,'paste');TP.boot.$$removeUIHandler(a,'blur');TP.boot.$$removeUIHandler(a,'focus');TP.boot.$$removeUIHandler(a,'keydown');TP.boot.$$removeUIHandler(a,'keypress');TP.boot.$$removeUIHandler(a,'change');TP.boot.$$removeMutationSource(a);return;};$$init=function(){var a;try{if(typeof self.init==='function'){init();}}catch(b){if(typeof self.init==='function'){a=$$findTIBET();a.console.log('ERROR in init(): '+b.message);}}TP.windowInstallOnBeforeUnloadHook(window);return;};TP.boot.autoBoot=function(){var a,b,d,c,e;if(window!==top||window.$$autoboot===false||typeof TP.boot.launch==='function'){return;}a=decodeURI(TP.boot.getWindowLocation());b=a.indexOf('/TIBET-INF');if(b===-1){b=a.indexOf(TP.$$tibetinf);if(b===-1){return;}else{d=TP.$$tibetinf;}}else{d='/TIBET-INF';}c=a.slice(0,b);a='~'+a.replace(c,'');e=c+'/'+TP.$$bootpage;window.location.replace(e);return;};TP.boot.bootFromBookmark=function(){var a,b,c;if(window!==top||window.$$autoboot===false){return;}a=decodeURI(TP.boot.getWindowLocation());b=a.split('#');c=b[0];window.location.replace(c);return;};TP.boot.initializeCanvas=function(a){var b;if($$findTIBET()===a){return;}if(self.$$tibet==null){if($$findTIBET()==null){return;}}if(!TP.core.Window||!TP.core.Window.installLoadUnloadHooks){TP.boot.initCanvas=function(){if(!TP.core.Window||!TP.core.Window.installLoadUnloadHooks){setTimeout(TP.boot.initCanvas,250);return;}TP.boot.initializeCanvas();};TP.boot.initCanvas();return;}if(TP.sys.hasLoaded()===false){return;}if(TP.boot.$isElement(a.document.body)){if(a.document.body.hasAttribute('tibet_canvasinitialized')){return;}}TP.boot.installPatches(a);TP.core.Window.installLoadUnloadHooks(a);TP.core.Window.instrument(a);if(TP.boot.$$isIE()){a.attachEvent('onload',b=function(){$$init();});a.attachEvent('onunload',b=function(){TP.boot.$$documentTeardown(this.document);});}else{if(TP.boot.$$isMoz()){a.document.addEventListener('DOMContentLoaded',b=function(){$$init();},false);}else{a.document.addEventListener('DOMContentLoaded',b=function(){$$init();},false);}a.addEventListener('unload',b=function(){TP.boot.$$documentTeardown(this.document);},false);}if(parent===top){top.document.title=a.document.title;}TP.boot.$$documentSetup(a.document);if(TP.boot.$isElement(a.document.body)){a.document.body.setAttribute('tibet_canvasinitialized','true');}return;};if(window.onerror.failedlaunch===true){void 0;}else if($$findTIBET()==null){TP.boot.autoBoot();}else if(window.$$tibet==null){TP.boot.autoBoot();}else{if(window.$$tibet&&window.$$tibet.TP!==window.TP){Object.defineProperty(self,'TP',{value:window.$$tibet.TP,writable:false});}else{Object.defineProperty(self,'TP',{value:window.TP,writable:false});}if(TP.boot.getURLBookmark()){TP.boot.bootFromBookmark();}else if(TP.sys.hasLoaded()===false&&TP.sys.cfg('boot.twophase')===true){if(window.$$phasetwo===true){if(TP.sys.cfg('boot.phasetwo')===true){TP.boot.initializeCanvas(window);}else{TP.boot.bootPhaseTwo=function(){TP.boot.initializeCanvas(window);TP.boot.$$importPhaseTwo();return;};if(TP.boot.$$stage==='import_paused'){TP.boot.bootPhaseTwo();}}}else{TP.boot.initializeCanvas(window);}}else{TP.boot.initializeCanvas(window);}}}}(this));
