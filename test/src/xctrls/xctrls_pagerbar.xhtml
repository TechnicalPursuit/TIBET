<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title></title>

    <script src="../../../lib/src/tibet_hook.min.js"></script>

    <link type="text/css" rel="stylesheet" href="~lib_styles/tibet.css"/>

    <link type="text/css" rel="stylesheet" href="~lib_test/src/xctrls/xctrls_gallery.css"/>

    <!-- As a single item Array, the item labels and values will be the same -->
    <tibet:data name="urn:tibet:single_item_array" content="TP.core.Hash">
        <![CDATA[
            {
            "names": [
                "Smith",
                "Johnson",
                "Williams",
                "Jones",
                "Brown",
                "Davis",
                "Miller",
                "Wilson",
                "Moore",
                "Taylor"]
            }
        ]]>
    </tibet:data>

    <!-- As a pair item Array, the item values will come from the values in the first 'column' and item labels will come from the values in the second 'column' -->
    <tibet:data name="urn:tibet:pair_item_array" content="TP.core.Hash">
        <![CDATA[
            {
            "names": [
                ["smith","Smith"],
                ["johnson","Johnson"],
                ["williams","Williams"],
                ["jones","Jones"],
                ["brown","Brown"],
                ["davis","Davis"],
                ["miller","Miller"],
                ["wilson","Wilson"],
                ["moore","Moore"],
                ["taylor","Taylor"]
                ]
            }
        ]]>
    </tibet:data>

    <!-- In this particular multi-item Array, the item values will come from the values in the third 'column' and item labels will come from the values in the first 'column'. These will be mapped using the itemValue and itemLabel attributes on the tabbar. -->
    <tibet:data name="urn:tibet:multi_item_array" content="TP.core.Hash">
        <![CDATA[
            {
            "names": [
                ["Smith","Mr.","smith"],
                ["Johnson","Sir","johnson"],
                ["Williams","Hon.","williams"],
                ["Jones","Mr.","jones"],
                ["Brown","Ms.","brown"],
                ["Davis","Mr.","davis"],
                ["Miller","Mrs","miller"],
                ["Wilson","Mr.","wilson"],
                ["Moore","Mrs","moore"],
                ["Taylor","Mr.","taylor"]
                ]
            }
        ]]>
    </tibet:data>

    <!-- As a JS 'object' hash, the item values will come from the 'keys' in the hash and item labels will come from the values 'hash' -->
    <tibet:data name="urn:tibet:object_hash" content="TP.core.Hash">
        <![CDATA[
            {
            "info": [{
                "last_name":"Smith",
                "first_name":"Joe",
                "age":"42",
                "gender":"male"
                }]
            }
        ]]>
    </tibet:data>

    <!-- In this particular array of JS 'object' hashes, the item values will come from the 'keys' in the hash and item labels will come from the values 'hash'. -->
    <tibet:data name="urn:tibet:object_hash_array" content="TP.core.Hash">
        <![CDATA[
            {
            "info": [{
                "last_name":"Smith",
                "first_name":"Joe",
                "age":"42",
                "gender":"male"
                },{
                "last_name":"Brown",
                "first_name":"Suzy",
                "age":"51",
                "gender":"female"
                }]
            }
        ]]>
    </tibet:data>

    <!-- The selection scratch data -->
    <tibet:data name="urn:tibet:selection_scratch_data" content="TP.core.Hash">
        <![CDATA[
            {
            "data": "johnson"
            }
        ]]>
    </tibet:data>

    <!-- The test data for selection tests -->
    <tibet:data name="urn:tibet:selection_test_data" content="TP.core.Hash">
        <![CDATA[
            {
            "data": [
                ["foo","foo"],
                ["bar","bar"],
                ["baz","baz"]
                ]
            }
        ]]>
    </tibet:data>

    <!-- The test data for value bound selection tests -->
    <tibet:data name="urn:tibet:bound_selection_test_data" content="TP.core.Hash">
        <![CDATA[
        {"selection_set_1": "bar", "selection_set_2": "foo", "selection_set_3": "baz", "selection_set_4": "Brown"}
        ]]>
    </tibet:data>

    <!-- The test data for static item selection tests -->
    <tibet:data name="urn:tibet:static_selection_test_data" content="TP.core.Hash">
        <![CDATA[
        {"selection_set_1": "before"}
        ]]>
    </tibet:data>

</head>

<body data-theme="tpi">
    <br/>
    <br/>

    <br/>
    pagerbar #1:
    <br/>
    A standard XControls pagerbar showing dynamic content of a single item Array:
    <xctrls:pagerbar id="pagerbar1" bind:in="{data: urn:tibet:single_item_array#tibet(names)}" itemLabel="0"/>

    <br/>
    <br/>

    <br/>
    pagerbar #2:
    <br/>
    A standard XControls pagerbar showing dynamic content of a pair item Array:
    <xctrls:pagerbar id="pagerbar2" bind:io="{data: urn:tibet:pair_item_array#tibet(names), value: urn:tibet:selection_scratch_data#tibet(data)}"/>

    <br/>
    <br/>

    <br/>
    pagerbar #3:
    <br/>
    A standard XControls pagerbar showing dynamic content of a multi-item Array:
    <xctrls:pagerbar id="pagerbar3" bind:io="{data: urn:tibet:multi_item_array#tibet(names), value: urn:tibet:selection_scratch_data#tibet(data)}" itemLabel="0" itemValue="2"/>

    <br/>
    <br/>

    <br/>
    pagerbar #4:
    <br/>
    A standard XControls pagerbar showing dynamic content of an Object hash:
    <xctrls:pagerbar id="pagerbar4" bind:in="{data: urn:tibet:object_hash#tibet(info)}" itemKey="last_name" itemLabel="last_name"/>

    <br/>
    <br/>

    <br/>
    pagerbar #5:
    <br/>
    A standard XControls pagerbar showing dynamic content of an Array of Object hashes:
    <xctrls:tabbar id="pagerbar5" bind:in="{data: urn:tibet:object_hash_array#tibet(info)}" itemKey="last_name" itemLabel="last_name"/>

    <br/>
    <br/>

    <br/>
    pagerbar #6:
    <br/>

    A standard XControls pagerbar enabled showing dynamic content:
    <xctrls:pagerbar id="pagerbar6" bind:io="{data: urn:tibet:selection_test_data#tibet(data)}"/>

    <br/>
    <br/>

    <br/>
    pagerbar #7:
    <br/>

    A standard XControls pagerbar enabled showing dynamic content and value bound to a selection model:
    <xctrls:pagerbar id="pagerbar7" bind:in="{data: urn:tibet:selection_test_data#tibet(data)}" bind:io="{value: urn:tibet:bound_selection_test_data#tibet(selection_set_1)}"/>

    <br/>
    <br/>

    <br/>
    pagerbar #8:
    <br/>

    A standard XControls pagerbar enabled showing only static content and value bound to a selection model:
    <xctrls:pagerbar id="pagerbar8" bind:io="{value: urn:tibet:static_selection_test_data#tibet(selection_set_1)}">
        <xctrls:pageritem tabindex="0" on:click="TestClick">
            <xctrls:label>Before Content</xctrls:label>
            <xctrls:value>before</xctrls:value>
        </xctrls:pageritem>
        <xctrls:pageritem tabindex="0">
            <xctrls:label>After Content</xctrls:label>
            <xctrls:value>after</xctrls:value>
        </xctrls:pageritem>
    </xctrls:pagerbar>

    <br/>
    <br/>

    <br/>
    pagerbar #9:
    <br/>

    A standard XControls pagerbar enabled showing static and templated content and value bound to a selection model:
    <xctrls:pagerbar id="pagerbar9" bind:in="{data: urn:tibet:selection_test_data#tibet(data)}" bind:io="{value: urn:tibet:bound_selection_test_data#tibet(selection_set_2)}">
        <xctrls:pageritem tabindex="0">
            <xctrls:label>Before Content</xctrls:label>
            <xctrls:value>before</xctrls:value>
        </xctrls:pageritem>
        <tibet:template>
            <xctrls:pageritem bind:in="{@foo: 'Value was: [[value.0 .% upperCase]]'}">
                <xctrls:label>[[value.1 .% upperCase]]</xctrls:label>
                <xctrls:value>[[value.0]]</xctrls:value>
            </xctrls:pageritem>
        </tibet:template>
        <xctrls:pageritem tabindex="0">
            <xctrls:label>After Content</xctrls:label>
            <xctrls:value>after</xctrls:value>
        </xctrls:pageritem>
    </xctrls:pagerbar>

    <br/>
    <br/>

    <br/>
    pagerbar #10:
    <br/>

    A standard XControls pagerbar enabled showing dynamic content, value bound to a selection model and inserted start/end and next/previous buttons:
    <xctrls:pagerbar id="pagerbar10" bind:in="{data: urn:tibet:selection_test_data#tibet(data)}" bind:io="{value: urn:tibet:bound_selection_test_data#tibet(selection_set_3)}" startend="true" nextprevious="true"/>

    <br/>
    pagerbar #11:
    <br/>

    A standard XControls pagerbar enabled showing dynamic content, value bound to a selection model and a page size greater than 1.
    <xctrls:pagerbar id="pagerbar11" bind:in="{data: urn:tibet:object_hash_array#tibet(info)}" bind:io="{value: urn:tibet:bound_selection_test_data#tibet(selection_set_4)}" pagesize="5" itemKey="last_name" itemLabel="last_name" itemValue="last_name"/>

    <div class="controlBox">
        <button onclick="TP.byId('pagerbar1').signal('UIDisabled');">Disable pagerbar #1</button>
        <button onclick="TP.byId('pagerbar1').signal('UIEnabled');">Enable pagerbar #1</button>

        <br/>

        <!-- NB: We put this in a timeout - otherwise, the button never blurs -->
        <button onclick="setTimeout(function() {TP.byId('pagerbar1').signal('UIFocused');}, 100)">Focus pagerbar #1</button>
    </div>

</body>
</html>
