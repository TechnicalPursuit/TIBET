<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

    <title></title>

    <script src="~lib_build/tibet_hook.min.js"></script>

    <link type="text/css" rel="stylesheet" href="~lib_styles/tibet.css"/>

    <style type="text/css">
    <![CDATA[
    @namespace tmp url(urn:tibet:tmp);
    @namespace pclass url(urn:tibet:pseudoclass);

    tmp|testElem {

        display: block;
        position: relative;

        background-color: blue;

        width: 10px;
        height: 10px;
    }

    tmp|testElem[pclass|active] {

        border-color: red;
    }

    tmp|testElem[pclass|focus] {

        background-color: yellow;
    }

    tmp|group#fooGroup {

        display: block;
        border: solid 1px black;
    }

    tmp|group#gooGroup {

        display: block;
        border: solid 1px blue;
    }
    ]]>
    </style>

</head>

<body xmlns:tibet="http://www.technicalpursuit.com/1999/tibet">

    <h2>Focus Test #5</h2><br/>
    <br/>
    <br/>
    This test sets up 4 focusable elements in two groups that are both nested under the 'body' element, the 'foo' group and the 'goo' group.
    <br/>
    The 'goo' group has a 'wrapWhen' attribute.
    <br/>
    Field #1 (in the 'foo' group) has a tabindex value of '2' and field #2 (also in the 'foo' group) has a tabindex value of '1'. And field #3 (in the 'goo' group) also has a tabindex value of '2'. Note that, in TIBET, tabindex values are processed 'per group'. This means that when the 'foo' group is entered, the first focused field will be field #2. But when the 'goo' group is entered, field #3 will be focused.
    <br/>
    Note also that, in this case, the 'fooGroup' itself has an HTML5 'autofocus' attribute. As a TIBET extension to the HTML5 'autofocus' capability, this allows the author to tell the group to focus when the page loads and then the group will select the proper field to focus on, given the TIBET-enhanced 'tabindex' rules.
    <br/>
    By pressing various keys, the focus can be navigated to them:
    <br/>
    <br/>
    Home key navigates to the first field *in the first group*.<br/>
    End key navigates to the last field *in the last group*.<br/>
    Tab key navigates 'forward' to the next field and will *not* wrap around *at the group level* on the 'foo' group (since it has no 'wrapWhen' attribute), but will wrap around on the 'goo' group (since it has a 'wrapWhen' attribute).<br/>
    Shift-Tab key navigates 'backward' to the previous field and will *not* wrap around *at the group level* on the 'foo' group (since it has no 'wrapWhen' attribute), but will wrap around on the 'goo' group (since it has a 'wrapWhen' attribute)<br/>
    Ctrl-Tab key navigates 'forward' to the next field *in the same or next group* and will *ignore* any 'wrapWhen' attributes.<br/>
    Shift-Ctrl-Tab key navigates 'backward' to the previous field *in the same or last group* and will *ignore* any 'wrapWhen' attributes.<br/>
    PageUp key navigates to the first field *in the same group*.<br/>
    PageDown key navigates to the last field *in the same group*.<br/>
    Ctrl-PageUp key navigates to the first field *in the previous group* (ignoring any 'wrapWhen' attributes).<br/>
    Ctrl-PageDown key navigates to the first field *in the next group* (ignoring any 'wrapWhen' attributes).<br/>
    <br/>
    <br/>
    These fields are in the 'foo' group:
    <br/>
    <tibet:group id="fooGroup" autofocus="autofocus">
        Focus test field #1: <tmp:testElem id="focusTestElem1" tabindex="2"/>
        <br/>
        Focus test field #2: <tmp:testElem id="focusTestElem2" tabindex="1"/>
        <br/>
    </tibet:group>
    <br/>
    These fields are in the 'goo' group:
    <br/>
    <tibet:group id="gooGroup" wrapWhen="true">
        Focus test field #3: <tmp:testElem id="focusTestElem3" tabindex="2"/>
        <br/>
        Focus test field #4: <tmp:testElem id="focusTestElem4" tabindex="0"/>
    </tibet:group>

</body>
</html>
