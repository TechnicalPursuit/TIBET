<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

    <title></title>

    <script src="~lib_build/tibet_hook.min.js"></script>

    <link type="text/css" rel="stylesheet" href="~lib_styles/tibet.css"/>

    <style type="text/css">
    <![CDATA[
    @namespace tmp url(urn:tibet:tmp);
    @namespace pclass url(urn:tibet:pseudoclass);

    tmp|testElem {

        display: block;
        position: relative;

        background-color: blue;

        width: 10px;
        height: 10px;
    }

    tmp|testElem[pclass|active] {

        border-color: red;
    }

    tmp|testElem[pclass|focus] {

        background-color: yellow;
    }

    tmp|group[id="fooGroup"] {

        display: block;
        border: solid 1px black;
    }

    tmp|group[id="gooGroup"] {

        display: block;
        border: solid 1px blue;
    }

    tmp|group[id="booGroup"] {

        display: block;
        border: solid 1px red;
    }
    ]]>
    </style>

</head>

<body xmlns:tibet="http://www.technicalpursuit.com/1999/tibet">

    <h2>Focus Test #8</h2><br/>
    <br/>
    <br/>
    This test sets up 4 focusable elements in multiple nested groups.
    <br/>
    The 'goo' group has a 'wrapWhen' attribute.
    <br/>
    Field #7 (in the 'boo' group) has a tabindex value of '1' and field #8 (in the 'foo' group) has a tabindex value of '2'. And field #3 (not in any group) also has a tabindex value of '2'. Note that, in TIBET, tabindex values are processed 'per group', except upon page load. This means that the first focused field upon page load will be field #3. But when the 'goo' group is entered, field #8 will be focused and when the 'boo' group is entered, field #7 will be focused.
    <br/>
    By pressing various keys, the focus can be navigated to them:
    <br/>
    <br/>
    Home key navigates to the first field *in the first group*.<br/>
    End key navigates to the last field *in the last group*.<br/>
    Tab key navigates 'forward' to the next field and will *not* wrap around *at the group level* on the 'foo' group (since it has no 'wrapWhen' attribute), but will wrap around on the 'goo' group (since it has a 'wrapWhen' attribute).<br/>
    Shift-Tab key navigates 'backward' to the previous field and will *not* wrap around *at the group level* on the 'foo' group (since it has no 'wrapWhen' attribute), but will wrap around on the 'goo' group (since it has a 'wrapWhen' attribute)<br/>
    Ctrl-Tab key navigates 'forward' to the next field *in the same or next group* and will *ignore* any 'wrapWhen' attributes.<br/>
    Shift-Ctrl-Tab key navigates 'backward' to the previous field *in the same or last group* and will *ignore* any 'wrapWhen' attributes.<br/>
    PageUp key navigates to the first field *in the same group*.<br/>
    PageDown key navigates to the last field *in the same group*.<br/>
    Ctrl-PageUp key navigates to the first field *in the previous group* (ignoring any 'wrapWhen' attributes).<br/>
    Ctrl-PageDown key navigates to the first field *in the next group* (ignoring any 'wrapWhen' attributes).<br/>
    <br/>
    <br/>
    These fields are in the 'foo' group:
    <br/>
    <tibet:group id="fooGroup">
        Focus test field #1: <tmp:testElem id="focusTestElem1" tabindex="0"/>
        <br/>
        Focus test field #2: <tmp:testElem id="focusTestElem2" tabindex="0"/>
        <br/>
    </tibet:group>
    <br/>
    This field is not in any group:
    <br/>
    Focus test field #3: <tmp:testElem id="focusTestElem3" tabindex="2"/>
    <br/>
    <br/>
    These fields are in the 'goo' group:
    <br/>
    <tibet:group id="gooGroup" wrapWhen="true">
        Focus test field #4: <tmp:testElem id="focusTestElem4" tabindex="0"/>
        <br/>
        Focus test field #5: <tmp:testElem id="focusTestElem5" tabindex="0"/>
        <br/>
        <br/>
        These fields are in the 'boo' group:
        <br/>
        <tibet:group id="booGroup">
            Focus test field #6: <tmp:testElem id="focusTestElem6" tabindex="0"/>
            <br/>
            Focus test field #7: <tmp:testElem id="focusTestElem7" tabindex="1"/>
        </tibet:group>
        <br/>
        <br/>
        This field is also in the 'goo' group:
        <br/>
        <span>
            <span>
            Focus test field #8: <tmp:testElem id="focusTestElem8" tabindex="2"/>
            </span>
        </span>
    </tibet:group>

</body>
</html>
