<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
        xmlns:tibet="http://www.technicalpursuit.com/1999/tibet">

<head>

    <title></title>

    <script src="~lib_build/tibet_hook.min.js"></script>

    <link type="text/css" rel="stylesheet" href="~lib_styles/tibet.css"/>

    <tibet:data name="urn:tibet:test_people">
        <![CDATA[
            {"people": [
                {"lastname": "Smith", "firstname": "Joe", "description": "Mr. Smith is a great guy", "gender": "m", "pet": "cat", "color": "blue", "addresses": ["111 Main St", "222 Brown St"], "salary": 100000, "car": "Ford", "children": 0},
                {"lastname": "Jones", "firstname": "John", "description": "Mr. Jones is another great guy", "gender": "m", "pet": "dog", "color": "red", "addresses": ["333 State St", "444 Red St"], "salary": 200000, "car": "Lexus", "children": 2}
            ]}
        ]]>
    </tibet:data>

</head>

<body xmlns:bind="http://www.technicalpursuit.com/2005/binding">

    <h2>Path Slicing JSON</h2><br/>
    <br/>
    <br/>
    This test sets up 'bindings' to text fields from the &lt;tibet:data&gt; tag containing JSON data, embedded in this document. It does so using various 'slices' of the path, thereby testing all of the various ways a path can be joined.
    <br/>
    <br/>
    Scoped - left-hand scheme
    <br/>
    <span bind:scope="urn:tibet:test_people#json($.people[0])">
        First name (bind:io): <textarea id="firstNameField1" bind:io="{value: firstname}" tabindex="0"></textarea>
    </span>

    <br/>
    <br/>
    Scoped - right-hand scheme
    <br/>
    <span bind:scope="urn:tibet:test_people">
        First name (bind:io): <textarea id="firstNameField2" bind:io="{value: #json($.people[0].firstname)}" tabindex="0"></textarea>
    </span>

    <br/>
    <br/>
    Scoped - two-level-descent - empty scheme:
    <br/>
    <span bind:scope="urn:tibet:test_people">
        <span bind:scope="#json()">
        First name (bind:io): <textarea id="firstNameField3" bind:io="{value: $.people[0].firstname}" tabindex="0"></textarea>
        </span>
    </span>

    <br/>
    <br/>
    Scoped - two-level-descent - left-hand short part:
    <br/>
    <span bind:scope="urn:tibet:test_people">
        <span bind:scope="#json($)">
        First name (bind:io): <textarea id="firstNameField4" bind:io="{value: people[0].firstname}" tabindex="0"></textarea>
        </span>
    </span>

    <br/>
    <br/>
    Scoped - two-level-descent - right-hand short part:
    <br/>
    <span bind:scope="urn:tibet:test_people">
        <span bind:scope="#json($.people[0])">
        First name (bind:io): <textarea id="firstNameField5" bind:io="{value: firstname}" tabindex="0"></textarea>
        </span>
    </span>

</body>
</html>
