<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>tibet-test</title>
    <meta http-equiv="Content-Type" content="application/xhtml+xml;
        charset=utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../lib/styles/tibet.css"/>
    <link rel="stylesheet" type="text/css" href="../../lib/styles/tibet_help.css"/>
</head>
<body>
<div id="background">
<div id="header">
    <a class="image-link" href="./index.html">
        <img id="logo" alt="TIBET Logo"
            src="../../lib/media/app_logo.png"/>
    </a>
    <blockquote class="lead">tibet-test</blockquote>
    <blockquote class="follow"></blockquote>
</div>
<div id="content">

<h1 id="tibet-test1----runs-unitfunctional-tests-on-your-application">tibet-test(1) -- runs unit/functional tests on your application</h1>
<h2 id="synopsis">SYNOPSIS</h2>
<p><code>tibet test [[--target] &lt;target&gt;] [--suite &lt;suite&gt;] [--cases &lt;casename&gt;]
    [--ignore-only] [--ignore-skip] [--inherit] [--subtypes]
    [--tap[=true|false]] [--no-tap] [--profile &lt;pkgcfg&gt;] [--config &lt;cfg&gt;]
    [--debug] [--verbose] [--selftest] [--context=[&#39;app&#39;|&#39;lib&#39;|&#39;all&#39;]]
    [--karma[=true|false]] [--no-karma]</code></p>
<h2 id="description">DESCRIPTION</h2>
<p>Runs unit, functional, and/or integration tests on your application.</p>
<p>If the <code>--karma</code> flag is true, <code>tibet test</code> checks to see if the <code>karma-tibet</code>
testing module and <code>karma</code> have been installed in your project. If so the
command delegates to <code>karma start</code> to run your tests.</p>
<p>If <code>karma</code> isn&#39;t installed or the <code>--karma</code> flag is false (the default)
tests will run in the context of headless Chrome.</p>
<p>In both cases (karma or headless) you can specify a particular test target
object or test suite to run as the first argument to the command. If you need to
specify both a target and suite use <code>--target</code> and <code>--suite</code> respectively.</p>
<p>You can use a wide variety of targets to scope your tests. For example, <code>APP</code>,
<code>APP.hello</code>, and <code>hello:</code>  will all resolve and test your entire APP-rooted set
of tests, the application&#39;s <code>hello</code>-rooted tests, or the <code>hello</code>-namespace.
Essentially any &quot;root&quot; object path works like a wildcard specification for all
tests rooted at that object.</p>
<p>You can limit testing to a particular case or set of cases by using the
<code>--cases</code> parameter. Both <code>--suite</code> and <code>--cases</code> accept either a string or a
regular expression in JavaScript syntax such as <code>--cases /foo/i</code>.</p>
<p>Ultimately this command marshals a call to the TIBET client which uses
reflection and other metadata to determine the specific tests to run. Those
tests are then invoked and the output is passed back to the CLI.</p>
<p>For headless testing output to the terminal is in colorized TAP format by
default. Future versions will support additional test output formatters.</p>
<h2 id="options">OPTIONS</h2>
<ul>
<li><p><code>target</code> :
An optional target, usually a type name, to run tests on. Unlike other test
frameworks, TIBET&#39;s tests are typically associated with an object such as a
type. This lets you quickly test a type by simply specifying it as a <code>target</code>.</p>
</li>
<li><p><code>--target</code> :
An alternate way to provide the target, usually a type name to run tests on.</p>
</li>
<li><p><code>--suite</code> :
A specific suite name or a /pattern/ to match to filter suite names.</p>
</li>
<li><p><code>--cases</code> :
A specific case name or a /pattern/ to match to filter case names.</p>
</li>
<li><p><code>--context</code> :
Sets the context of the scan which is run. The default is <code>app</code>
which scans only application-level resources, ignoring any potential library
resources. Other values are <code>lib</code> and <code>all</code>.</p>
</li>
<li><p><code>--ignore-only</code>:
If a test has the &#39;only&#39; flag set ignore it, run all the tests found.</p>
</li>
<li><p><code>--ignore-skip</code>:
If a test has the &#39;skip&#39; flag set ignore it and run the test anyway.</p>
</li>
<li><p><code>--inherit</code>:
Include tests from the target object&#39;s inheritance chain in the tests.</p>
</li>
<li><p><code>--subtypes</code>:
Include subtypes of a target type when selecting test suites.</p>
</li>
<li><p><code>--tap</code>:
Turn on/off TAP output format. Using <code>--no-tap</code> will cause this command to
<em>not</em> use TAP formatted output.</p>
</li>
<li><p><code>--profile</code>:
A profile in the form of package@config.</p>
</li>
<li><p><code>--config</code>:
The name of an individual config to process.</p>
</li>
<li><p><code>--debug</code> :
Sets the test harness&#39;s logging level to &#39;debug&#39;.</p>
</li>
<li><p><code>--verbose</code> :
Whether or not to log the script that has been generated to invoke the test
machinery.</p>
</li>
<li><p><code>--selftest</code>:
Whether or not to invoke the test harness&#39;s &#39;self test&#39; profile - i.e. the
list of scripts that will test the test harness itself.</p>
</li>
<li><p><code>--karma</code> :
Turns on/off the search for a <code>karma</code> binary and <code>karma.conf.js</code> file. Using
<code>--no-karma</code> will force TIBET&#39;s basic headless test execution. The default value
is false.</p>
</li>
</ul>
<h2 id="configuration-settings">CONFIGURATION SETTINGS</h2>
<p>No TIBET configuration variables are utilized by this command.</p>
<h2 id="environment-variables">ENVIRONMENT VARIABLES</h2>
<p>No process environment variables are required by this command.</p>
<h2 id="examples">EXAMPLES</h2>
<h3 id="run-default-application-tests-via-karma">Run default application tests via karma</h3>
<p>Assuming you&#39;ve followed the installation instructions for <code>karma-tibet</code> (<a href="https://github.com/TechnicalPursuit/karma-tibet">https://github.com/TechnicalPursuit/karma-tibet</a>) you can run your karma tests via <code>tibet test</code>:</p>
<pre><code>$ tibet test --karma

30 06 2016 17:32:46.557:INFO [karma]: Karma v1.1.0 server started at http://0.0.0.0:9876/
30 06 2016 17:32:46.560:INFO [launcher]: Launching browser Chrome with unlimited concurrency
30 06 2016 17:32:46.567:INFO [launcher]: Starting browser Chrome
30 06 2016 17:32:48.803:INFO [Chrome 51.0.2704 (Mac OS X 10.11.5)]: Connected on socket /#i8jwIIkTNAvAF27lAAAA with id 70331982
Chrome 51.0.2704 (Mac OS X 10.11.5): Executed 3 of 3 SUCCESS (0.169 secs / 0 secs)</code></pre><h3 id="run-default-application-tests-via-headless-chrome">Run default application tests via Headless Chrome</h3>
<p>If you haven&#39;t installed <code>karma</code> you can run tests via the <code>tibet test</code> command:</p>
<pre><code>$ tibet test

# Loading TIBET at 2018-08-23T13:32:03.632Z
# TIBET loaded and active in 6736ms
# TIBET starting test run
# 2 suite(s) found.
1..3
#
# tibet test APP --suite &#39;APP&#39;
ok - Has a namespace.
ok - Has an application type.
# pass: 2 total, 2 pass, 0 fail, 0 error, 0 skip, 0 todo, 0 only.
#
# tibet test APP.d2d.app --suite &#39;APP.d2d:app&#39;
ok - Is a templated tag.
# pass: 1 total, 1 pass, 0 fail, 0 error, 0 skip, 0 todo, 0 only.
#
# PASS: 3 total, 3 pass, 0 fail, 0 error, 0 skip, 0 todo, 0 only.

# Finished in 2385 ms w/TSH exec time of 93 ms.</code></pre><p>NOTE that each test is prefixed with a comment of the form <code># tibet test ..</code>
which allows you to run that specific test suite.</p>
<h3 id="force-default-application-tests-via-headless-in-a-karma-enabled-project">Force default application tests via headless in a karma-enabled project</h3>
<pre><code>$ tibet test --no-karma

# Loading TIBET at 2018-08-23T13:32:03.632Z
# TIBET loaded and active in 6736ms
# TIBET starting test run
# 2 suite(s) found.
1..3
#
# tibet test APP --suite &#39;APP&#39;
ok - Has a namespace.
ok - Has an application type.
# pass: 2 total, 2 pass, 0 fail, 0 error, 0 skip, 0 todo, 0 only.
#
# tibet test APP.d2d.app --suite &#39;APP.d2d:app&#39;
ok - Is a templated tag.
# pass: 1 total, 1 pass, 0 fail, 0 error, 0 skip, 0 todo, 0 only.
#
# PASS: 3 total, 3 pass, 0 fail, 0 error, 0 skip, 0 todo, 0 only.

# Finished in 2385 ms w/TSH exec time of 93 ms.</code></pre><h3 id="run-tests-on-a-specific-type">Run tests on a specific type</h3>
<pre><code>$ tibet test --karma APP.hello.app

overriding karma.script with: :test  -target=&#39;APP.hello.app&#39;
01 07 2016 13:56:55.444:INFO [karma]: Karma v1.1.0 server started at http://0.0.0.0:9876/
01 07 2016 13:56:55.446:INFO [launcher]: Launching browser Chrome with unlimited concurrency
01 07 2016 13:56:55.453:INFO [launcher]: Starting browser Chrome
01 07 2016 13:56:56.838:INFO [Chrome 51.0.2704 (Mac OS X 10.11.5)]: Connected on socket /#CuLMZuXGzQV1Z_rjAAAA with id 78791384
Chrome 51.0.2704 (Mac OS X 10.11.5): Executed 1 of 1 SUCCESS (0.131 secs / 0 secs)</code></pre><h3 id="run-a-specific-test-suite">Run a specific test suite</h3>
<pre><code>$ tibet test --suite &#39;APP&#39; --no-karma

# Loading TIBET at 2018-08-23T13:32:03.632Z
# TIBET loaded and active in 6736ms
# TIBET starting test run
# 1 suite(s) found.
1..2
#
# tibet test APP --suite=&#39;APP&#39;
ok - Has a namespace.
ok - Has an application type.
# pass: 2 total, 2 pass, 0 fail, 0 error, 0 skip, 0 todo, 0 only.
#
# PASS: 2 total, 2 pass, 0 fail, 0 error, 0 skip, 0 todo, 0 only.

# Finished in 2819 ms w/TSH exec time of 80 ms.</code></pre><h2 id="tibet-shell">TIBET SHELL</h2>
<p>This command has no client-side TSH peer command.</p>
<h2 id="troubleshooting">TROUBLESHOOTING</h2>
<h2 id="see-also">SEE ALSO</h2>

</div>
<div id="footer">
    TIBET 5.1.0 - Copyright (C) 2020 Technical Pursuit Inc.
</div>
</div>
</body>
</html>
