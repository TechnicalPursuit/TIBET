/*
    CSS styles for the 'xctrls:checkitem' control.
*/

@namespace xctrls url("http://www.technicalpursuit.com/2005/xcontrols");
@namespace tibet url("http://www.technicalpursuit.com/1999/tibet");
@namespace svg url("http://www.w3.org/2000/svg");
@namespace pclass url("urn:tibet:pseudoclass");

/* The checkitem */

xctrls|checkitem {

    display: inline-flex;
    justify-content: center;
    align-items: center;

    /* Order check image before label */
    flex-direction: row-reverse;

    user-select: none;

    /* The checkitem's value (the checkmark) */

    & > *[tibet|pelem="value"] {

        svg|svg {

            display: block;

            width: 1em;
            height: 1em;

            svg|rect {

                fill: none;
                stroke: black;
                stroke-width: 1px;
            }

            svg|polygon {

                display: none;
            }
        }
    }

    /* Hovering over the checkitem */

    &:hover {

        > *[tibet|pelem="value"] {

            svg|svg {

                svg|polygon {

                    display: block;
                }
            }
        }
    }

    /* Focusing on the checkitem */

    /* doesn't work in any browser:
    &:focus
    */
    &[pclass|focus] {
    }

    /* Clicking down on the checkitem */

    /* doesn't work in IE9:
    &:active::value
    */
    &[pclass|active] {

        > *[tibet|pelem="value"] {

            svg|svg {

                svg|polygon {

                    display: block;
                }
            }
        }

        &[pclass|checked] > *[tibet|pelem="value"] {
        }
    }

    /* The checkitem is disabled */

    /* doesn't work in any browser:
    &:disabled
    */
    &[pclass|disabled] {

        > *[tibet|pelem="value"] {
        }

        &[pclass|active] > *[tibet|pelem="value"] {
        }

        &[pclass|active][pclass|checked] > *[tibet|pelem="value"] {
        }
    }

    /* The checkitem is checked */

    /* doesn't work in any browser:
    &:checked
    */
    &[pclass|checked] {

        > *[tibet|pelem="value"] {

            svg|polygon {

                display: block;
            }
        }
    }

    /* The checkitem label */

    & > xctrls|label {

        flex: 1;
    }

    /* Clicking down on the checkitem, label must highlight */

    /* doesn't work in IE9:
    &:active > xctrls|label
    */
    &[pclass|active] {

        > xctrls|label {
        }

        &[pclass|checked] > xctrls|label {
        }
    }

    /* The checkitem is disabled, so is the label */

    /* doesn't work in any browser:
    &:disabled > xctrls|label
    */
    &[pclass|disabled] > xctrls|label {
    }
}
