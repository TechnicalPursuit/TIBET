<!DOCTYPE html>

<sherpa:tofuInsertionAssistant>
    <div class="head"/>
    <div class="body">

        <div class="insertion_data">
            <div bind:scope="urn:tibet:tofuInsertionAssistant_source#jpath($.info)">
                <div class="insertion_point">
                    <label>Ancestors:</label>
                    <sherpa:breadcrumb id="tofuInsertionAssistant_InsertionBreadcrumb"/>
                </div>

                <div class="insertion_position">
                    <label>Insertion:</label>
                    <ul class="flex_inner">
                        <li>
                            <input type="radio" name="insertion_radio" value="BeforeBegin" id="tofuInsertionAssistant_InsertionPositionRadio1" bind:io="{checked: insertionPosition}"/>
                            <label for="tofuInsertionAssistant_InsertionPositionRadio1">Previous Sibling</label>
                        </li>
                        <li>
                            <input type="radio" name="insertion_radio" value="AfterBegin" id="tofuInsertionAssistant_InsertionPositionRadio2"/>
                            <label for="tofuInsertionAssistant_InsertionPositionRadio2">First Child</label>
                        </li>
                        <li>
                            <input type="radio" name="insertion_radio" value="BeforeEnd" id="tofuInsertionAssistant_InsertionPositionRadio3"/>
                            <label for="tofuInsertionAssistant_InsertionPositionRadio3">Last Child</label>
                        </li>
                        <li>
                            <input type="radio" name="insertion_radio" value="AfterEnd" id="tofuInsertionAssistant_InsertionPositionRadio4"/>
                            <label for="tofuInsertionAssistant_InsertionPositionRadio4">Next Sibling</label>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div id="tofuInsertionAssistant_TypeChooser">
            <label for="tofuInsertionAssistant_NewTagNameField">Tag Type:</label>
            <input type="text" id="tofuInsertionAssistant_NewTagNameField" autofocus="autofocus" bind:io="{value: urn:tibet:tofuInsertionAssistant_source#jpath($.info.enteredTagName)}"/>
            <xctrls:list id="tofuInsertionAssistant_TagTypes" bind:in="{data: urn:tibet:tagtypelist}" bind:io="{value: urn:tibet:tofuInsertionAssistant_source#jpath($.info.chosenTagName)}"/>
        </div>

        <div class="insertion_details">
            <div class="insertion_attrs" bind:scope="urn:tibet:tofuInsertionAssistant_source#jpath($.info)">
                <ul>
                    <li id="tofuInsertionAssistant_AttributesTable">
                        <label>Attributes (click + to add):</label>
                        <button class="inserter" on:click="{signal: InsertItem, origin: 'tofuInsertionAssistant_Attributes', payload: {source: 'urn:tibet:dom_attr_data_blank', copy: true}}"></button>
                        <div id="tofuInsertionAssistant_Attributes" bind:repeat="tagAttrs">
                                <input type="text" bind:io="{value: tagAttrName}" tabindex="0"/>
                                <input type="text" bind:io="{value: tagAttrValue}" tabindex="0"/>
                                <span class="deleter" on:click="{signal: DeleteItem, origin: 'tofuInsertionAssistant_Attributes', payload: {index:TP.TARGET}}"/>
                            <br/>
                        </div>
                    </li>
                </ul>
            </div>
        </div>

    </div>

    <div class="foot">
        <code id="generatedTag"/>
        <br/>
        <button on:click="DialogCancel">Cancel</button>
        <button on:click="DialogOk">Insert</button>
    </div>
</sherpa:tofuInsertionAssistant>
